package dynamic;
import java.util.*;

public class String3LCS {
	public static int LCS_recc(String n1,String n2,String n3,int v1, int v2, int v3,int[][][] arr) {
		if(v1==n1.length() || v2==n2.length() || v3==n3.length())
			return 0;
		if(arr[v1][v2][v3] != 0)
			return arr[v1][v2][v3];
		char c1 = n1.charAt(v1);
		char c2 = n2.charAt(v2);
		char c3 = n3.charAt(v3);
		int len=0;
		if(c1==c2 && c2==c3) {
			len = LCS_recc(n1, n2, n3, v1+1, v2+1, v3+1,arr) + 1 ;
		}else {
			int a = LCS_recc(n1, n2, n3, v1+1, v2, v3,arr);
			int b = LCS_recc(n1, n2, n3, v1, v2+1, v3,arr);
			int c = LCS_recc(n1, n2, n3, v1, v2, v3+1,arr);
			len = Math.max(a, Math.max(b, c));
		}
		arr[v1][v2][v3] = len;
		return len;
	}
	public static void main(String[] args) {
		// TODO Auto-generated method stub
	    String n1 = "abcd";
	    String n2 = "agcfd";
	    String n3 = "ad";
	    int[][][] arr = new int[n1.length()][n2.length()][n3.length()];
	    for(int i =0;i<arr.length;i++)
	    	for(int j=0;j<arr[0].length;j++)
	    		Arrays.fill(arr[i][j], -1);
	    System.out.println(LCS_recc(n1,n2,n3,0,0,0,arr));
	}
}